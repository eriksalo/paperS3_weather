; PlatformIO Project Configuration File
; M5Stack Paper S3 Weather Display

[env:m5stack-papers3]
; Use older platform version compatible with epdiy library
platform = espressif32@6.4.0
board = esp32-s3-devkitc-1
framework = arduino

; M5Stack Paper S3 specific settings
board_build.partitions = default_16MB.csv
board_upload.flash_size = 16MB
board_upload.maximum_size = 16777216
board_build.arduino.memory_type = qio_opi

; Build flags for Paper S3
build_flags =
    -DESP32S3
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_CDC_ON_BOOT=1
    -DARDUINO_USB_MODE=1

; Monitor settings
monitor_speed = 115200
upload_port = COM10
monitor_port = COM10

; Libraries - epdiy is REQUIRED for Paper S3 e-ink display
lib_deps =
    epdiy=https://github.com/vroland/epdiy.git#d84d26ebebd780c4c9d4218d76fbe2727ee42b47
    M5Unified=https://github.com/m5stack/M5Unified
    M5GFX=https://github.com/m5stack/M5GFX
    bblanchon/ArduinoJson@^7.0.0
